I should rewrite the code, it's starting to get ugly again.

More thoughts on crypto and such:
	When we send a message to someone for the first time after signing on,
	put a special HTML comment in that IM.  <!-- aimirc [capabilities] -->
	[capabilities] is whatever capabilities we have (new versions get more,
	and you can turn them off in aimirc.conf)  One such capability is
	crypto.  To enable crypto support, you'd probably have to generate a
	keypair.  If two people on the same aimirc server are talking to the
	same person on another aimirc server, we can arrange for that person
	to only need to send their public key once.  I'll need to look into
	the different crypto modules available for Perl.

Collaboration:
	There's an access list, see?  You can add AIM screennames,
	IRC nick!user@host (with wildcards), AIM chatrooms, and/or IRC channels
	to this access list.  The access list is not saved across
	signoffs/signons (or then again maybe it is... but probably not.  And
	it almost definately won't be saved across killing/restarting aimirc.)

	Now there are four permission levels that you can add these entities at.
	read, write, alter, and control.  Each entity also needs a list of AIM
	thingies that this access level applies to.  These Access Control Lists
	can have AIM screennames and chatrooms.  So maybe AIM-FooBar will
	have read for everything, but write for AIM-Baz.

	So now someone who is on your access list sends the collaborate command.
	There will be another name for this command: spy.  This can be done by
	sending /msg aimserv spy MattSachs to start spying on MattSachs, or
	by sending an IM to MattSachs: *AIMIRC spy (or something like that.)

	Alright, let's stick with the example of AIM-FooBar who has global read
	and AIM-Baz write for MattSachs.  AIM-FooBar has sent the spy command.
	So now SomeDude sends an IM to MattSachs.  AIM-Baz gets a copy.  The
	IM the AIM-FooBar would get might look something like:
		[aimirc] {SomeDude -> MattSachs} Hey!
	I suppose that would be configurable via aimirc.conf.

	Now AIM-FooBar wants to take advantage of his write access and send
	IMs coming from MattSachs.  Probably by sending an IM to MattSachs that
	looks something like *AIMIRC send Baz Hi there!

	Do you get the idea?

DANGER!!  EVIL SUBTLE BUG!?!?  Hrm, there might be something wrong in the
main loop.

Multithread (or fork even) support.

Support for TS protocol

Optional minimal libfaim - for password changes and such?????

file transfer -> DCC
Handle colors as well as bold, etc.?
Allow passwords to be sent via DCC.
Crypto support (SSH?) for talking to another aimirc client?
	Well, for talking to any client really, but I don't think that the
	standard clients will be including this anytime soon ;)

	Encrypt the contents of any IM's to selected clients or chats to
	selected chatrooms.

	This still wouldn't encrypt the client->IRC server connection, but
	that's what SSH forwarding is for.

	Maybe better/easier than SSH would be exchanging a OTP with the
	client.  The OTP would be encrypted using the target's PGP/GPG
	public key.  Is this secure?

	Are there any crypto Perl modules?

	I'm in the US.  Shall I just give the crypto export restrictions the
	civil disobedience they deserve?  Or maybe someone outside the US
	would be willing to maintain a set of crypto patches.
