if("function"!=typeof addLoadEvent){addLoadEvent=function(A){var B=window.onload;if(typeof window.onload!="function"){window.onload=A}else{window.onload=function(){B();A()}}}}var commentPreview;var commentPreviewLast="";var emptyString="Click the &quot;Preview&quot; button to preview your comment here.";var acpFormElement;var inputElement;var outputElement;var doitElement;var authorElement;var urlElement;function commentPreviewInit(){doitElement=document.getElementById("acp-preview");acpFormElement=doitElement.parentNode;while("form"!=acpFormElement.tagName.toLowerCase()){acpFormElement=acpFormElement.parentNode}inputElement=acpGetFormInput("comment");outputElement=document.getElementById("ajax-comment-preview");authorElement=acpGetFormInput("author");urlElement=acpGetFormInput("url");if(inputElement==null||outputElement==null||doitElement==null){return }doitElement.onclick=commentPreviewAJAX;if(""==emptyString){outputElement.style.display="none"}else{outputElement.innerHTML=emptyString}}addLoadEvent(commentPreviewInit);function acpGetFormInput(A){for(i=0;i<acpFormElement.elements.length;i++){if(A==acpFormElement.elements[i].name){return acpFormElement.elements[i]}}}function commentPreviewAJAX(){var C="";var B=false;commentPreview=new sack("http://zevils.com/wp-content/plugins/ajax-comment-preview/ajax-comment-preview.php");var A=commentPreview.argumentSeparator?commentPreview.argumentSeparator:"&";commentPreview.method="POST";commentPreview.encodeURIString=false;commentPreview.onLoading=function(){outputElement.innerHTML="Loading."};commentPreview.onLoaded=function(){outputElement.innerHTML+="."};commentPreview.onInteractive=function(){outputElement.innerHTML+="."};commentPreview.onCompletion=function(){outputElement.innerHTML=commentPreview.response};C=commentPreview.encVar("text",inputElement.value);if(C){C+=authorElement?A+commentPreview.encVar("author",authorElement.value):"";C+=urlElement?A+commentPreview.encVar("url",urlElement.value):""}else{if(authorElement){commentPreview.encVar("author",authorElement.value)}if(urlElement){commentPreview.encVar("url",urlElement.value)}C=new Array();for(key in commentPreview.vars){C[C.length]=key+"="+commentPreview.vars[key][0]}C=C.join(A);B=true}if(C!=commentPreviewLast&&""!=inputElement.value){commentPreview.runAJAX(B?"":C)}else{if(""==inputElement.value){if(""==emptyString){outputElement.innerHTML="";outputElement.style.display="none"}else{outputElement.innerHTML=emptyString}}}commentPreviewLast=C}